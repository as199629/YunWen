import{i as te,m as oe,j as ne,u as ae}from"./ssrBoot.c0eba784.js";import{p as Z,N as B,O as se,x as D,r as A,P as le,Q as ue,f as i,y as ie,R as L,M as re,S as X,j as M,U as ce,d as ve,b as k}from"./index.8051350c.js";const V=Symbol.for("vuetify:layout"),q=Symbol.for("vuetify:layout-item"),K=1e3,ge=Z({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),be=Z({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function de(){const n=B(V);if(!n)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:n.getLayoutItem,mainRect:n.mainRect,mainStyles:n.mainStyles}}function he(n){var f;const r=B(V);if(!r)throw new Error("[Vuetify] Could not find injected layout");const s=(f=n.id)!=null?f:`layout-item-${se()}`,c=D("useLayoutItem");X(q,{id:s});const a=A(!1);le(()=>a.value=!0),ue(()=>a.value=!1);const{layoutItemStyles:l,layoutItemScrimStyles:u}=r.register(c,{...n,active:i(()=>a.value?!1:n.active.value),id:s});return ie(()=>r.unregister(s)),{layoutItemStyles:l,layoutRect:r.layoutRect,layoutItemScrimStyles:u}}const fe=(n,r,s,c)=>{let a={top:0,left:0,right:0,bottom:0};const l=[{id:"",layer:{...a}}];for(const u of n){const f=r.get(u),g=s.get(u),z=c.get(u);if(!f||!g||!z)continue;const b={...a,[f.value]:parseInt(a[f.value],10)+(z.value?parseInt(g.value,10):0)};l.push({id:u,layer:b}),a=b}return l};function Ie(n){const r=B(V,null),s=i(()=>r?r.rootZIndex.value-100:K),c=A([]),a=L(new Map),l=L(new Map),u=L(new Map),f=L(new Map),g=L(new Map),{resizeRef:z,contentRect:b}=te(),F=i(()=>{var e;const t=new Map,v=(e=n.overlaps)!=null?e:[];for(const m of v.filter(o=>o.includes(":"))){const[o,d]=m.split(":");if(!c.value.includes(o)||!c.value.includes(d))continue;const p=a.get(o),S=a.get(d),$=l.get(o),R=l.get(d);!p||!S||!$||!R||(t.set(d,{position:p.value,amount:parseInt($.value,10)}),t.set(o,{position:S.value,amount:-parseInt(R.value,10)}))}return t}),h=i(()=>{const t=[...new Set([...u.values()].map(e=>e.value))].sort((e,m)=>e-m),v=[];for(const e of t){const m=c.value.filter(o=>{var d;return((d=u.get(o))==null?void 0:d.value)===e});v.push(...m)}return fe(v,a,l,f)}),_=i(()=>!Array.from(g.values()).some(t=>t.value)),I=i(()=>h.value[h.value.length-1].layer),Q=i(()=>({"--v-layout-left":M(I.value.left),"--v-layout-right":M(I.value.right),"--v-layout-top":M(I.value.top),"--v-layout-bottom":M(I.value.bottom),..._.value?void 0:{transition:"none"}})),x=i(()=>h.value.slice(1).map((t,v)=>{let{id:e}=t;const{layer:m}=h.value[v],o=l.get(e),d=a.get(e);return{id:e,...m,size:Number(o.value),position:d.value}})),j=t=>x.value.find(v=>v.id===t),E=D("createLayout"),N=A(!1);re(()=>{N.value=!0}),X(V,{register:(t,v)=>{let{id:e,order:m,position:o,layoutSize:d,elementSize:p,active:S,disableTransitions:$,absolute:R}=v;u.set(e,m),a.set(e,o),l.set(e,d),f.set(e,S),$&&g.set(e,$);const T=ce(q,E==null?void 0:E.vnode).indexOf(t);T>-1?c.value.splice(T,0,e):c.value.push(e);const H=i(()=>x.value.findIndex(w=>w.id===e)),O=i(()=>s.value+h.value.length*2-H.value*2),G=i(()=>{const w=o.value==="left"||o.value==="right",P=o.value==="right",ee=o.value==="bottom",U={[o.value]:0,zIndex:O.value,transform:`translate${w?"X":"Y"}(${(S.value?0:-110)*(P||ee?-1:1)}%)`,position:R.value||s.value!==K?"absolute":"fixed",..._.value?void 0:{transition:"none"}};if(!N.value)return U;const y=x.value[H.value];if(!y)throw new Error(`[Vuetify] Could not find layout item "${e}"`);const C=F.value.get(e);return C&&(y[C.position]+=C.amount),{...U,height:w?`calc(100% - ${y.top}px - ${y.bottom}px)`:p.value?`${p.value}px`:void 0,left:P?void 0:`${y.left}px`,right:P?`${y.right}px`:void 0,top:o.value!=="bottom"?`${y.top}px`:void 0,bottom:o.value!=="top"?`${y.bottom}px`:void 0,width:w?p.value?`${p.value}px`:void 0:`calc(100% - ${y.left}px - ${y.right}px)`}}),J=i(()=>({zIndex:O.value-1}));return{layoutItemStyles:G,layoutItemScrimStyles:J,zIndex:O}},unregister:t=>{u.delete(t),a.delete(t),l.delete(t),f.delete(t),g.delete(t),c.value=c.value.filter(v=>v!==t)},mainRect:I,mainStyles:Q,getLayoutItem:j,items:x,layoutRect:b,rootZIndex:s});const W=i(()=>["v-layout",{"v-layout--full-height":n.fullHeight}]),Y=i(()=>({zIndex:s.value,position:r?"relative":void 0,overflow:r?"hidden":void 0}));return{layoutClasses:W,layoutStyles:Y,getLayoutItem:j,items:x,layoutRect:b,layoutRef:z}}const xe=ve({name:"VMain",props:{scrollable:Boolean,...oe({tag:"main"})},setup(n,r){let{slots:s}=r;const{mainStyles:c}=de(),{ssrBootStyles:a}=ne();return ae(()=>{var l,u;return k(n.tag,{class:["v-main",{"v-main--scrollable":n.scrollable}],style:[c.value,a.value]},{default:()=>[n.scrollable?k("div",{class:"v-main__scroller"},[(l=s.default)==null?void 0:l.call(s)]):(u=s.default)==null?void 0:u.call(s)]})}),{}}});export{xe as V,ge as a,Ie as c,be as m,he as u};
